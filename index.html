<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>AshCore Labs — Beta Testing</title>
  <meta name="color-scheme" content="light only" />
  <style>
    :root{
      --g900:#0b1f14; --g850:#0d2619; --g800:#0f2f1c; --g750:#123923;
      --g700:#143b23; --g650:#175230; --g600:#1a4d2e; --g500:#225d3a;
      --gold:#d4af37; --paper:#f7fbf7; --ink:#123321;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    html,body{height:100%}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Arial,sans-serif;
      background:
        radial-gradient(1400px 900px at -10% -20%, rgba(212,175,55,.15), transparent 55%),
        radial-gradient(1200px 700px at 110% 10%, rgba(212,175,55,.10), transparent 60%),
        linear-gradient(135deg,var(--g600) 0%, var(--g900) 100%);
      color:#fff; display:flex; align-items:center; justify-content:center;
      padding:28px; overflow:hidden;
    }
    [dir="rtl"] body{font-family:'Segoe UI','Geeza Pro',Arial,sans-serif}

    .sparkles::before,.sparkles::after{content:"";position:absolute;inset:-20%;pointer-events:none;background:
      radial-gradient(2px 2px at 10% 20%, rgba(255,255,255,.35), transparent 60%),
      radial-gradient(2px 2px at 60% 10%, rgba(255,255,255,.25), transparent 60%),
      radial-gradient(2px 2px at 80% 40%, rgba(255,255,255,.25), transparent 60%),
      radial-gradient(2px 2px at 30% 70%, rgba(255,255,255,.30), transparent 60%),
      radial-gradient(2px 2px at 90% 80%, rgba(255,255,255,.20), transparent 60%);
      animation: drift 18s linear infinite}
    .sparkles::after{animation-duration:26s;opacity:.6;filter: blur(.3px)}
    @keyframes drift{0%{transform:translateY(0)}100%{transform:translateY(-12%)}}

    .container{
      width:min(1200px,96vw); height:min(96vh,980px);
      border-radius:28px; position:relative; overflow:hidden;
      border:1px solid rgba(212,175,55,.22);
      box-shadow:0 40px 110px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.05);
      display:grid; grid-template-rows:auto 1fr;
      background:
        linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.00) 35%),
        radial-gradient(800px 300px at 50% -10%, rgba(212,175,55,.10), transparent 70%),
        linear-gradient(180deg,var(--g700) 0%, var(--g800) 80%);
    }

    .lang{position:absolute; top:16px; right:16px; display:flex; gap:8px; z-index:20}
    [dir="rtl"] .lang{right:auto; left:16px}
    .lang button{
      border:1px solid var(--gold); color:var(--gold); background:rgba(212,175,55,.08);
      backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
      padding:8px 12px; border-radius:12px; font-weight:900; cursor:pointer;
      transition:.2s transform,.2s box-shadow,.2s background}
    .lang button:hover{transform:translateY(-2px);box-shadow:0 8px 22px rgba(212,175,55,.3)}
    .lang .active{background:var(--gold);color:var(--g900)}

    .hero{padding:26px 18px 14px; display:grid; place-items:center; text-align:center; position:relative}
    .logo-wrap{
      width:140px; height:140px; border-radius:26px; overflow:hidden; display:grid; place-items:center;
      border:1px solid rgba(212,175,55,.4);
      box-shadow:0 16px 40px rgba(0,0,0,.45), inset 0 0 0 1px rgba(255,255,255,.08);
      position:relative; background:rgba(212,175,55,.06); isolation:isolate}
    .logo-wrap::after{
      content:""; position:absolute; inset:-50% -20% auto -20%; height:60%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.25), transparent);
      transform: rotate(12deg) translateX(-120%); filter: blur(8px);
      animation: sweep 4.8s ease-in-out infinite}
    @keyframes sweep{0%{transform: rotate(12deg) translateX(-120%)}50%{transform: rotate(12deg) translateX(120%)}100%{transform: rotate(12deg) translateX(120%)}}
    .logo{width:100%; height:100%; object-fit:cover}
    .brand{margin-top:14px}
    .brand h1{font-size:2.5rem; letter-spacing:.03em; font-weight:1000; color:var(--gold); text-shadow:0 2px 0 rgba(0,0,0,.25)}
    .brand p{color:#f8efc9; opacity:.95; font-size:1.05rem}

    .content{padding:22px 26px 28px; display:grid; grid-template-columns:1fr 1fr; gap:22px}
    @media (max-width:900px){.content{grid-template-columns:1fr}}

    .card{
      position:relative; overflow:hidden; border-radius:22px;
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
      border:1px solid rgba(212,175,55,.22);
      box-shadow:0 22px 50px rgba(0,0,0,.35), inset 0 0 0 1px rgba(255,255,255,.05);
      padding:22px; display:grid; grid-template-columns:auto 1fr; gap:18px; align-items:center;
      transition:.25s transform,.25s box-shadow}
    .card:hover{transform:translateY(-3px);box-shadow:0 26px 60px rgba(0,0,0,.45)}
    .card::before{
      content:""; position:absolute; inset:-1px; border-radius:22px; padding:1px;
      background: linear-gradient(135deg, rgba(212,175,55,.6), rgba(212,175,55,.1));
      -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude; pointer-events:none}
    .glyph{
      width:88px; height:88px; border-radius:18px; display:grid; place-items:center;
      background: linear-gradient(135deg, var(--g600), var(--g500));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.06), 0 12px 26px rgba(0,0,0,.35)}
    .glyph img{width:60px; height:60px; object-fit:contain; filter: drop-shadow(0 2px 4px rgba(0,0,0,.25))}
    .meta{display:flex; flex-direction:column; gap:12px}
    .title{font-weight:1000; letter-spacing:.02em; color:#fff; font-size:1.45rem}
    .desc{color:#deefd9; opacity:.9; font-size:.98rem}

    .actions{display:flex; flex-direction:column; gap:12px}
    .btn{
      --bg:linear-gradient(135deg,var(--g650),var(--g800)); --ink:#fff;
      display:flex; align-items:center; justify-content:center; gap:10px;
      background:var(--bg); color:var(--ink);
      padding:14px 16px; border-radius:14px; text-decoration:none; font-weight:900;
      border:1px solid rgba(212,175,55,.35); cursor:pointer; transition:.2s transform,.2s box-shadow,.2s filter}
    .btn:hover{transform:translateY(-2px); box-shadow:0 10px 24px rgba(0,0,0,.28)}
    .btn .label{display:flex; align-items:center; gap:10px}
    .btn .badge{padding:3px 8px; border-radius:999px; font-size:.76rem; letter-spacing:.02em;
      background:rgba(212,175,55,.18); color:var(--gold); border:1px solid rgba(212,175,55,.35)}
    .btn svg{width:20px; height:20px; display:block}
    .gold-fill{fill:var(--gold)}
    .tiny-note{font-size:.85rem;color:#f6e7b0;opacity:.95;margin-top:2px}

    /* modal */
    .modal{display:none; position:fixed; inset:0; background:rgba(0,0,0,.7);
      backdrop-filter: blur(3px); -webkit-backdrop-filter: blur(3px);
      z-index:50; align-items:center; justify-content:center}
    .modal.active{display:flex}
    .modal-card{width:min(640px,92vw); max-height:92vh; overflow:auto; border-radius:20px;
      background:#fff; color:var(--ink); box-shadow:0 34px 90px rgba(0,0,0,.6)}
    .modal-head{padding:22px; background:linear-gradient(135deg,var(--g600),var(--g900));
      border-bottom:2px solid var(--gold); color:var(--gold); position:relative; border-radius:20px 20px 0 0}
    .modal-head p{color:#faefc6}
    .close{position:absolute; right:14px; top:14px; width:40px; height:40px; border-radius:50%;
      border:0; background:rgba(212,175,55,.18); color:var(--gold); font-size:26px; font-weight:900; cursor:pointer}
    [dir="rtl"] .close{right:auto; left:14px}
    .modal-body{padding:22px}
    .callout{background:#fff8e1; border:2px solid var(--gold); border-radius:12px; padding:16px; margin-bottom:18px}
    .callout h4{margin-bottom:8px}
    .callout ol{margin:10px 0 0 20px}
    [dir="rtl"] .callout ol{margin:10px 20px 0 0}
    .group{margin-bottom:16px}
    label{display:block; font-weight:800; margin-bottom:6px}
    input{width:100%; padding:12px 14px; border-radius:10px; border:2px solid var(--gold); background:#fff; color:#163924; font-size:1rem}
    [dir="rtl"] input{text-align:right}
    .hint{font-size:.85rem; color:#2c6b48; margin-top:6px}
    .checks{background:#f5f7f4; border:2px solid var(--gold); border-radius:12px; padding:12px}
    .check{display:grid; grid-template-columns:24px 1fr; align-items:center; gap:10px; margin:10px 0}
    .check input{width:18px; height:18px; margin:0}
    .check label{margin:0; font-weight:700}
    [dir="rtl"] .check{grid-template-columns:1fr 24px}
    .submit{width:100%; padding:16px; border:0; border-radius:12px; color:#fff; font-weight:1000; font-size:1.05rem; cursor:pointer;
      background: linear-gradient(135deg,var(--g600), var(--gold)); box-shadow:0 12px 30px rgba(26,77,46,.35)}
    .submit:disabled{opacity:.6; cursor:not-allowed}
    .msg{display:none; margin-top:14px; padding:12px; border-radius:10px; text-align:center; font-weight:900}
    .ok{background:#e8f5e9; color:#0e3c23; border:2px solid #4caf50}
    .err{background:#ffebee; color:#8d2b2b; border:2px solid #ef5350}
  </style>
</head>
<body class="sparkles">
  <div class="lang">
    <button class="active" id="btnEnglish" onclick="switchLanguage('en')">EN</button>
    <button id="btnArabic" onclick="switchLanguage('ar')">AR</button>
  </div>

  <main class="container">
    <header class="hero">
      <div class="logo-wrap">
        <img class="logo" src="images/Golden%20Elegance%20of%20AshCore%20Labs.png" alt="AshCore Labs logo (اشكر)">
      </div>
      <div class="brand">
        <h1>AshCore Labs</h1>
        <p id="tagline">Innovative, educational, family-oriented apps</p>
      </div>
    </header>

    <section class="content">
      <!-- Alif Play -->
      <article class="card">
        <div class="glyph" aria-hidden="true">
          <img src="images/alifplay-icon.png" alt="Alif Play icon">
        </div>
        <div class="meta">
          <h3 class="title" id="app1Name">Alif Play</h3>
          <p class="desc">Interactive Arabic learning activities for kids and families.</p>
          <div class="actions">
            <a class="btn" href="https://apps.apple.com/app/id6753190449" target="_blank" rel="noopener">
              <!-- Apple -->
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="gold-fill" d="M16.365 12.407c-.03-3.027 2.471-4.495 2.58-4.562-1.405-2.06-3.587-2.341-4.358-2.368-1.864-.189-3.64 1.095-4.586 1.095-.947 0-2.405-1.07-3.96-1.04-2.03.03-3.91 1.186-4.954 3.015-2.114 3.662-.54 9.07 1.518 12.04 1.006 1.44 2.202 3.06 3.766 3.006 1.52-.06 2.088-.974 3.93-.974 1.84 0 2.35.974 3.96.944 1.64-.03 2.677-1.47 3.68-2.915 1.16-1.69 1.64-3.33 1.67-3.416-.037-.017-3.208-1.232-3.666-4.825Z"/><path class="gold-fill" d="M13.84 3.79c.817-.99 1.368-2.368 1.216-3.79-1.176.047-2.576.784-3.41 1.774-.75.867-1.41 2.295-1.24 3.64 1.31.104 2.615-.665 3.434-1.624Z"/></svg>
              <span class="label"><span id="iosBtn1">iOS – App Store</span><span class="badge">LIVE</span></span>
            </a>

            <!-- Android: request access -->
            <button class="btn" onclick="openModal('Alif Play')">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="gold-fill"
                d="M8.1 6.3 6.9 4.3a.6.6 0 1 1 .98-.66l1.3 2.08A6.5 6.5 0 0 1 12 4.8c.98 0 1.92.21 2.78.61l1.3-2.07a.6.6 0 0 1 1.02.64l-1.2 2a5.9 5.9 0 0 1 3.1 5.17V17.4a1.6 1.6 0 0 1-1.6 1.6h-.5v2a1 1 0 1 1-2 0v-2H8.1v2a1 1 0 1 1-2 0v-2h-.5a1.6 1.6 0 0 1-1.6-1.6V10c0-2.24 1.22-4.2 3.1-5.18ZM9 9.4a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Zm6 0a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Z"/></svg>
              <span class="label"><span id="androidBtn1">Android – Request Beta Access</span></span>
            </button>

            <!-- Android: direct beta link -->
            <a class="btn" href="https://play.google.com/apps/internaltest/4700371851644656021" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="gold-fill"
                d="M8.1 6.3 6.9 4.3a.6.6 0 1 1 .98-.66l1.3 2.08A6.5 6.5 0 0 1 12 4.8c.98 0 1.92.21 2.78.61l1.3-2.07a.6.6 0 0 1 1.02.64l-1.2 2a5.9 5.9 0 0 1 3.1 5.17V17.4a1.6 1.6 0 0 1-1.6 1.6h-.5v2a1 1 0 1 1-2 0v-2H8.1v2a1 1 0 1 1-2 0v-2h-.5a1.6 1.6 0 0 1-1.6-1.6V10c0-2.24 1.22-4.2 3.1-5.18ZM9 9.4a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Zm6 0a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Z"/></svg>
              <span class="label" id="androidOpen1">Android – Open Beta Link</span>
            </a>
            <div class="tiny-note" id="linkNote1">Note: The link will open only after your Google account email is added to the testers list.</div>
          </div>
        </div>
      </article>

      <!-- Hajj & Umrah Guide -->
      <article class="card">
        <div class="glyph" aria-hidden="true">
          <img src="images/hajj-umrah-icon.png" alt="Hajj & Umrah icon">
        </div>
        <div class="meta">
          <h3 class="title" id="app2Name">Hajj & Umrah Guide</h3>
          <p class="desc">Step-by-step rituals, duas, and checklists for a peaceful journey.</p>
          <div class="actions">
            <a class="btn" href="https://apps.apple.com/app/id6753349690" target="_blank" rel="noopener">
              <!-- Apple -->
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="gold-fill" d="M16.365 12.407c-.03-3.027 2.471-4.495 2.58-4.562-1.405-2.06-3.587-2.341-4.358-2.368-1.864-.189-3.64 1.095-4.586 1.095-.947 0-2.405-1.07-3.96-1.04-2.03.03-3.91 1.186-4.954 3.015-2.114 3.662-.54 9.07 1.518 12.04 1.006 1.44 2.202 3.06 3.766 3.006 1.52-.06 2.088-.974 3.93-.974 1.84 0 2.35.974 3.96.944 1.64-.03 2.677-1.47 3.68-2.915 1.16-1.69 1.64-3.33 1.67-3.416-.037-.017-3.208-1.232-3.666-4.825Z"/><path class="gold-fill" d="M13.84 3.79c.817-.99 1.368-2.368 1.216-3.79-1.176.047-2.576.784-3.41 1.774-.75.867-1.41 2.295-1.24 3.64 1.31.104 2.615-.665 3.434-1.624Z"/></svg>
              <span class="label"><span id="iosBtn2">iOS – App Store</span><span class="badge">LIVE</span></span>
            </a>

            <!-- Android: request access -->
            <button class="btn" onclick="openModal('Hajj & Umrah Guide')">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="gold-fill"
                d="M8.1 6.3 6.9 4.3a.6.6 0 1 1 .98-.66l1.3 2.08A6.5 6.5 0 0 1 12 4.8c.98 0 1.92.21 2.78.61l1.3-2.07a.6.6 0 0 1 1.02.64l-1.2 2a5.9 5.9 0 0 1 3.1 5.17V17.4a1.6 1.6 0 0 1-1.6 1.6h-.5v2a1 1 0 1 1-2 0v-2H8.1v2a1 1 0 1 1-2 0v-2h-.5a1.6 1.6 0 0 1-1.6-1.6V10c0-2.24 1.22-4.2 3.1-5.18ZM9 9.4a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Zm6 0a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Z"/></svg>
              <span class="label"><span id="androidBtn2">Android – Request Beta Access</span></span>
            </button>

            <!-- Android: direct beta link -->
            <a class="btn" href="https://play.google.com/apps/internaltest/4701234619866645444" target="_blank" rel="noopener">
              <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path class="gold-fill"
                d="M8.1 6.3 6.9 4.3a.6.6 0 1 1 .98-.66l1.3 2.08A6.5 6.5 0 0 1 12 4.8c.98 0 1.92.21 2.78.61l1.3-2.07a.6.6 0 0 1 1.02.64l-1.2 2a5.9 5.9 0 0 1 3.1 5.17V17.4a1.6 1.6 0 0 1-1.6 1.6h-.5v2a1 1 0 1 1-2 0v-2H8.1v2a1 1 0 1 1-2 0v-2h-.5a1.6 1.6 0 0 1-1.6-1.6V10c0-2.24 1.22-4.2 3.1-5.18ZM9 9.4a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Zm6 0a.9.9 0 1 0 0-1.8.9.9 0 0 0 0 1.8Z"/></svg>
              <span class="label" id="androidOpen2">Android – Open Beta Link</span>
            </a>
            <div class="tiny-note" id="linkNote2">Note: The link will open only after your Google account email is added to the testers list.</div>
          </div>
        </div>
      </article>
    </section>
  </main>

  <!-- Modal -->
  <div id="signupModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="modal-card">
      <div class="modal-head">
        <button class="close" onclick="closeModal()" aria-label="Close">&times;</button>
        <h2 id="modalTitle">Android Beta Testing</h2>
        <p id="modalSubtitle">Join our testing program</p>
      </div>
      <div class="modal-body">
        <div class="callout">
          <h4 id="helpTitle">How to find your Google Account email:</h4>
          <p id="helpIntro">We need the email linked to your Google account on your Android device to send you the testing invite.</p>
          <ol id="helpList">
            <li id="helpStep1">Open the <strong>Settings</strong> app on your phone</li>
            <li id="helpStep2">Tap on <strong>Google</strong> (or <strong>Accounts</strong>)</li>
            <li id="helpStep3">Your email address appears at the top</li>
            <li id="helpStep4">Copy that email and enter it below</li>
          </ol>
        </div>

        <form id="signupForm">
          <input type="hidden" id="selectedApps" value="" />
          <div class="group">
            <label for="userName" id="labelName">Your Name</label>
            <input type="text" id="userName" required />
          </div>
          <div class="group">
            <label for="userEmail" id="labelEmail">Google Account Email</label>
            <input type="email" id="userEmail" required />
            <div class="hint" id="emailHint">This is the email you use for Google Play Store</div>
          </div>
          <div class="group">
            <label id="labelApps">Which apps do you want to test?</label>
            <div class="checks">
              <div class="check">
                <input type="checkbox" id="checkAlif" value="Alif Play" checked />
                <label for="checkAlif" id="labelAlif">Alif Play</label>
              </div>
              <div class="check">
                <input type="checkbox" id="checkHajj" value="Hajj & Umrah Guide" />
                <label for="checkHajj" id="labelHajj">Hajj & Umrah Guide</label>
              </div>
            </div>
          </div>
          <button type="submit" class="submit" id="submitBtn">Sign Up for Beta Testing</button>
          <div class="msg ok" id="successMsg"><span id="successText">✅ Success! Check your email for the Google Play invite.</span></div>
          <div class="msg err" id="errorMsg"><span id="errorText">❌ Something went wrong. Please try again.</span></div>
        </form>
      </div>
    </div>
  </div>

  <script>
    let currentLang='en';
    const tr = {
      en:{
        tagline:'Innovative, educational, family-oriented apps',
        app1Name:'Alif Play', app2Name:'Hajj & Umrah Guide',
        iosBtn1:'iOS – App Store', iosBtn2:'iOS – App Store',
        androidBtn1:'Android – Request Beta Access', androidBtn2:'Android – Request Beta Access',
        androidOpen1:'Android – Open Beta Link', androidOpen2:'Android – Open Beta Link',
        note:'Note: The link will open only after your Google account email is added to the testers list.',
        modalTitle:'Android Beta Testing', modalSubtitle:'Join our testing program',
        helpTitle:'How to find your Google Account email:',
        helpIntro:'We need the email linked to your Google account on your Android device to send you the testing invite.',
        step1:'Open the <strong>Settings</strong> app on your phone',
        step2:'Tap on <strong>Google</strong> (or <strong>Accounts</strong>)',
        step3:'Your email address appears at the top',
        step4:'Copy that email and enter it below',
        labelName:'Your Name', labelEmail:'Google Account Email',
        emailHint:'This is the email you use for Google Play Store',
        labelApps:'Which apps do you want to test?',
        labelAlif:'Alif Play', labelHajj:'Hajj & Umrah Guide',
        submitBtn:'Sign Up for Beta Testing',
        success:'✅ Success! Check your email for the Google Play invite.',
        error:'❌ Something went wrong. Please try again.'
      },
      ar:{
        tagline:'تطبيقات مبتكرة تعليمية موجهة للعائلة',
        app1Name:'أليف بلاي', app2Name:'دليل الحج والعمرة',
        iosBtn1:'iOS – متجر التطبيقات', iosBtn2:'iOS – متجر التطبيقات',
        androidBtn1:'Android – طلب الانضمام للتجربة', androidBtn2:'Android – طلب الانضمام للتجربة',
        androidOpen1:'Android – رابط النسخة التجريبية', androidOpen2:'Android – رابط النسخة التجريبية',
        note:'ملاحظة: يعمل الرابط فقط بعد إضافة بريدك الإلكتروني في Google إلى قائمة المختبرين.',
        modalTitle:'الاختبار التجريبي لأندرويد', modalSubtitle:'انضم إلى برنامج الاختبار',
        helpTitle:'كيفية العثور على بريد حساب Google:',
        helpIntro:'نحتاج إلى البريد المرتبط بحساب Google على جهازك لإرسال دعوة الاختبار.',
        step1:'افتح تطبيق <strong>الإعدادات</strong> على هاتفك',
        step2:'اضغط على <strong>Google</strong> (أو <strong>الحسابات</strong>)',
        step3:'سيظهر عنوان بريدك الإلكتروني في الأعلى',
        step4:'انسخ هذا البريد وأدخله أدناه',
        labelName:'اسمك', labelEmail:'بريد حساب Google',
        emailHint:'هذا هو البريد الذي تستخدمه لمتجر Google Play',
        labelApps:'ما التطبيقات التي تريد اختبارها؟',
        labelAlif:'أليف بلاي', labelHajj:'دليل الحج والعمرة',
        submitBtn:'التسجيل للاختبار التجريبي',
        success:'✅ تم بنجاح! تحقق من بريدك للحصول على دعوة Google Play.',
        error:'❌ حدث خطأ. يرجى المحاولة مرة أخرى.'
      }
    };

    function switchLanguage(lang){
      currentLang = lang;
      document.documentElement.lang = lang;
      document.documentElement.dir = (lang==='ar')?'rtl':'ltr';
      document.getElementById('btnEnglish').classList.toggle('active', lang==='en');
      document.getElementById('btnArabic').classList.toggle('active', lang==='ar');
      applyText();
    }

    function applyText(){
      const x = tr[currentLang];
      document.getElementById('tagline').textContent = x.tagline;
      document.getElementById('app1Name').textContent = x.app1Name;
      document.getElementById('app2Name').textContent = x.app2Name;
      document.getElementById('iosBtn1').textContent = x.iosBtn1;
      document.getElementById('iosBtn2').textContent = x.iosBtn2;
      document.getElementById('androidBtn1').textContent = x.androidBtn1;
      document.getElementById('androidBtn2').textContent = x.androidBtn2;
      document.getElementById('androidOpen1').textContent = x.androidOpen1;
      document.getElementById('androidOpen2').textContent = x.androidOpen2;
      document.getElementById('linkNote1').textContent = x.note;
      document.getElementById('linkNote2').textContent = x.note;
      document.getElementById('modalTitle').textContent = x.modalTitle;
      document.getElementById('modalSubtitle').textContent = x.modalSubtitle;
      document.getElementById('helpTitle').textContent = x.helpTitle;
      document.getElementById('helpIntro').textContent = x.helpIntro;
      document.getElementById('helpStep1').innerHTML = x.step1;
      document.getElementById('helpStep2').innerHTML = x.step2;
      document.getElementById('helpStep3').innerHTML = x.step3;
      document.getElementById('helpStep4').innerHTML = x.step4;
      document.getElementById('labelName').textContent = x.labelName;
      document.getElementById('labelEmail').textContent = x.labelEmail;
      document.getElementById('emailHint').textContent = x.emailHint;
      document.getElementById('labelApps').textContent = x.labelApps;
      document.getElementById('labelAlif').textContent = x.labelAlif;
      document.getElementById('labelHajj').textContent = x.labelHajj;
      document.getElementById('submitBtn').textContent = x.submitBtn;
      document.getElementById('successText').textContent = x.success;
      document.getElementById('errorText').textContent = x.error;
    }

    function openModal(appName){
      document.getElementById('signupModal').classList.add('active');
      document.body.style.overflow='hidden';
      document.getElementById('checkAlif').checked = (appName==='Alif Play');
      document.getElementById('checkHajj').checked = (appName==='Hajj & Umrah Guide');
    }
    function closeModal(){
      document.getElementById('signupModal').classList.remove('active');
      document.body.style.overflow='auto';
      document.getElementById('signupForm').reset();
      document.getElementById('successMsg').style.display='none';
      document.getElementById('errorMsg').style.display='none';
    }
    document.getElementById('signupModal').addEventListener('click',(e)=>{ if(e.target===e.currentTarget) closeModal(); });

    document.getElementById('signupForm').addEventListener('submit', function(e){
      e.preventDefault();
      const btn = document.getElementById('submitBtn');
      const original = btn.textContent;
      btn.disabled = true; btn.textContent = (currentLang==='en')?'Submitting…':'جاري الإرسال…';
      document.getElementById('successMsg').style.display='none';
      document.getElementById('errorMsg').style.display='none';

      const selected=[];
      if(document.getElementById('checkAlif').checked) selected.push('Alif Play');
      if(document.getElementById('checkHajj').checked) selected.push('Hajj & Umrah Guide');

      const payload={
        access_key:'2817a6cd-689c-4709-96c5-305137b2b841',
        subject:'New Android Beta Tester - AshCore Labs',
        from_name:'AshCore Labs Beta Program',
        name:document.getElementById('userName').value,
        email:document.getElementById('userEmail').value,
        apps:selected.join(', '),
        platform:'Android',
        language:currentLang,
        submittedAt:new Date().toISOString()
      };

      fetch('https://api.web3forms.com/submit', {
        method:'POST', headers:{'Content-Type':'application/json','Accept':'application/json'},
        body:JSON.stringify(payload)
      })
      .then(r=>r.json())
      .then(data=>{
        if(data.success){
          document.getElementById('successMsg').style.display='block';
          document.getElementById('signupForm').reset();
          setTimeout(()=>closeModal(),2600);
        }else{
          document.getElementById('errorMsg').style.display='block';
        }
        btn.disabled=false; btn.textContent=original;
      })
      .catch(()=>{
        document.getElementById('errorMsg').style.display='block';
        btn.disabled=false; btn.textContent=original;
      });
    });

    applyText();
  </script>
</body>
</html>
